{"version":3,"sources":["webpack:///src/components/canvas/angle.vue","webpack:///./src/components/canvas/angle.vue?03c2","webpack:///./src/components/canvas/angle.vue","webpack:///src/App.vue","webpack:///./src/App.vue?457d","webpack:///./src/App.vue","webpack:///./src/store/store.js","webpack:///./src/index.js"],"names":["angle","name","data","isBegin","mouse","x","y","ball","[object Object]","self","this","canvas","$refs","cavs","ctx","getContext","radius","width","requestID","center","transR","height","drawBall","clearRect","save","linearColor","createLinearGradient","addColorStop","fillStyle","translate","disAngle","rotate","beginPath","arc","Math","PI","fillRect","fill","restore","requestAnimationFrame","addEventListener","e","touches","pageX","pageY","atan2","console","log","canvas_angle","render","_h","$createElement","_c","_self","staticClass","ref","attrs","staticRenderFns","components_canvas_angle","__webpack_require__","normalizeComponent","ssrContext","App","computed","methods","w","window","innerWidth","h","innerHeight","isHorizon","isLongScreen","$store","commit","components","transferCanvas","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","Vue","use","Vuex","store","Store","state","isSilent","playerInfo","boardInfo","selectInfo","isJudge","isFromStart","isShowList","start","select","game","over","board","getters","isLogin","Boolean","uid","mutations","changeScreen","switchAudio","info","clipName","slice","switchPage","to","item","seeBoard","$","click","showPage","setPlayerScore","score","num","setSlectName","setIsFrom","from","el","template"],"mappings":"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","file":"assets/js/app.js","sourcesContent":["<template>\r\n    <div class=\"page_main\">\r\n        <canvas ref=\"cavs\" width=\"300\" height=\"300\"></canvas>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: 'canvasTest',\r\n    data() {\r\n        return {\r\n            isBegin: false,\r\n            mouse: {\r\n                x: 0,\r\n                y: 0,\r\n                angle: 0\r\n            },\r\n            ball: {},\r\n            angle: 0\r\n\r\n        }\r\n    },\r\n    mounted() {\r\n        let self = this;\r\n        let canvas = this.$refs.cavs;\r\n        let ctx = canvas.getContext('2d');\r\n\r\n        this.ball = new Ball(canvas.width / 2 + 20, canvas.width / 2 + 20, 10);\r\n        // 球函数\r\n        function Ball(x, y, radius) {\r\n            this.x = x;\r\n            this.y = y;\r\n            this.radius = radius;\r\n            this.angle = 0;\r\n        };\r\n\r\n        // 事件\r\n        let requestID = null;\r\n        let transR = 50;\r\n        // 中心点\r\n        let center = {\r\n            transR,\r\n            x: canvas.width / 2,\r\n            y: canvas.height / 2\r\n        }\r\n        //绘制球\r\n        function drawBall() {\r\n\r\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n            let ball = self.ball;\r\n            ctx.save();\r\n\r\n            let linearColor = ctx.createLinearGradient(-50, 0, 100, 0);\r\n            linearColor.addColorStop(0, 'rgb(255, 255, 255)');\r\n            linearColor.addColorStop(1, 'rgb(255, 0, 0)');\r\n            ctx.fillStyle = linearColor;\r\n            ctx.translate(center.x, center.y);\r\n\r\n            let disAngle = self.mouse.angle - self.angle;\r\n            self.angle += disAngle * 0.2;\r\n            ctx.rotate(self.angle);\r\n\r\n\r\n            ctx.beginPath();\r\n            //不需要知道半径r， 直接 根据旋转角的差值来计算 坐标\r\n            ball.x = self.mouse.x;\r\n            ball.y = self.mouse.y\r\n            ctx.arc(80, 0, ball.radius, 0, 2 * Math.PI, true);\r\n            ctx.fillRect(-50, -10, 100, 20);\r\n            ctx.fill();\r\n            ctx.restore();\r\n            requestID = requestAnimationFrame(drawBall);\r\n        };\r\n\r\n        !self.isBegin && drawBall();\r\n\r\n        canvas.addEventListener('touchmove', function (e) {\r\n            self.mouse.x = e.touches[0].pageX - center.x;\r\n            self.mouse.y = e.touches[0].pageY - center.x;\r\n\r\n            self.mouse.angle = Math.atan2(self.mouse.y, self.mouse.x);\r\n            console.log(Math.atan2(self.mouse.y, self.mouse.x) * 180 / Math.PI);\r\n            // console.log(self.mouse.x, self.mouse.y);\r\n        })\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\nhtml,\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n  width: 100%;\r\n}\r\n\r\n.page_main {\r\n  width: 100%;\r\n  canvas {\r\n    width: 100%;\r\n    background: #333;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/canvas/angle.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page_main\"},[_c('canvas',{ref:\"cavs\",attrs:{\"width\":\"300\",\"height\":\"300\"}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-472f963a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/canvas/angle.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-472f963a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./angle.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./angle.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./angle.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-472f963a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./angle.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-472f963a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/canvas/angle.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div id=\"app\">\r\n\t\t<transferCanvas></transferCanvas>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport transferCanvas from \"@/components/canvas/angle.vue\";\r\n\r\nexport default {\r\n\tname: \"App\",\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tmounted() { },\r\n\tcomputed: {},\r\n\tmethods: {\r\n\t\tpreventEvent() {\r\n\t\t\tconsole.log('test');\r\n\t\t},\r\n\t\tchangeScreen() {\r\n\t\t\tlet w = window.innerWidth;\r\n\t\t\tlet h = window.innerHeight;\r\n\t\t\tthis.isHorizon = w > h;\r\n\t\t\tlet isLongScreen = 1.8 * w < h;\r\n\t\t\tthis.$store.commit('changeScreen', isLongScreen);\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\ttransferCanvas\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('transferCanvas')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4a4a5242\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a4a5242\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a4a5242\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nVue.use(Vuex);\r\n\r\nexport const store = new Vuex.Store({\r\n\tstate: {\r\n\t\tisSilent: true,\r\n\t\tplayerInfo,\r\n\t\tboardInfo: [],\r\n\t\tisLongScreen:false,\r\n\t\tselectInfo: {\r\n\t\t\tisJudge: true,\r\n\t\t\tname: '',\r\n\t\t\tisSilent: true\r\n\t\t},\r\n\t\tisFromStart:true,\r\n\t\tisShowList: {\r\n\t\t\tstart: true,\r\n\t\t\tselect: false,\r\n\t\t\tgame: false,\r\n\t\t\tover: false,\r\n\t\t\tboard: false\r\n\t\t}\r\n\t},\r\n\tgetters:{\r\n\t\tisLogin:state => {\r\n\t\t\treturn Boolean(state.playerInfo.uid);\r\n\t\t}\r\n\t},\r\n\tmutations: {\r\n\t\t//判断是否长屏，例如inphonex\r\n\t\tchangeScreen(state,isLongScreen){\r\n\t\t\tstate.isLongScreen = isLongScreen;\r\n\t\t},\r\n\t\tswitchAudio(state){\r\n\t\t\tstate.selectInfo.isSilent = !state.selectInfo.isSilent;\r\n\t\t},\r\n\t\tselectInfo(state,info){\r\n\t\t\tstate.selectInfo.isJudge = info.isJudge;\r\n\t\t\tstate.selectInfo.name = info.name;\r\n\t\t},\r\n\t\tclipName(state){\r\n\t\t\tstate.selectInfo.name = state.selectInfo.name.slice(0,6);\r\n\t\t},\r\n\t\tswitchPage(state, to) {\r\n\t\t\tfor(let item in state.isShowList) {\r\n\t\t\t\tstate.isShowList[item] = false;\r\n\t\t\t}\r\n\t\t\tstate.isShowList[to] = true;\r\n\r\n\t\t},\r\n\t\tseeBoard(state, boardInfo) {\r\n\t\t\tfor(let item in state.isShowList) {\r\n\t\t\t\tstate.isShowList[item] = false;\r\n\t\t\t}\r\n\t\t\tstate.isShowList.board = true;\r\n\t\t\tstate.boardInfo = boardInfo;\r\n\t\t\t\r\n\t\t\t//结束的统计\r\n\t\t\t$('.suda_board').click();\r\n\t\t},\r\n\t\tshowPage(state, to) {\r\n\t\t\tstate.isShowList[to] = true;\r\n\t\t},\r\n\t\tsetPlayerScore(state,score){\r\n\t\t\tstate.playerInfo.num = score;\r\n\t\t},\r\n\t\t//过滤敏感词汇\r\n\t\tsetSlectName(state,name){\r\n\t\t\tstate.selectInfo.name = name;\r\n\t\t},\r\n\t\tsetIsFrom(state,from){\r\n\t\t\tstate.isFromStart = from;\r\n\t\t\tconsole.log(from);\r\n\t\t}\r\n\t}\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/store.js","import Vue from 'vue'\r\nimport App from './App'\r\nimport { store } from './store/store';\r\n\r\nnew Vue({\r\n\tel: '#app',\r\n\tstore,\r\n\tcomponents: {\r\n\t\tApp\r\n\t},\r\n\ttemplate: '<App/>'\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}